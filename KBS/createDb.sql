CREATE TABLE [dbo].[Crowers] (
    [CrowerId] [bigint] NOT NULL IDENTITY,
    [Status] [bit] NOT NULL,
    [CountIndex] [bigint] NOT NULL,
    [Reestr_ReeestrId] [bigint],
    CONSTRAINT [PK_dbo.Crowers] PRIMARY KEY ([CrowerId])
)
CREATE TABLE [dbo].[Reestrs] (
    [ReeestrId] [bigint] NOT NULL IDENTITY,
    [Priority] [int] NOT NULL,
    [Url] [nvarchar](max) NOT NULL,
    [Depth] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Reestrs] PRIMARY KEY ([ReeestrId])
)
CREATE TABLE [dbo].[Indices] (
    [IndexId] [bigint] NOT NULL IDENTITY,
    [Text] [nvarchar](max),
    [Count] [bigint] NOT NULL,
    [Reestr_ReeestrId] [bigint],
    CONSTRAINT [PK_dbo.Indices] PRIMARY KEY ([IndexId])
)
CREATE INDEX [IX_Reestr_ReeestrId] ON [dbo].[Crowers]([Reestr_ReeestrId])
CREATE INDEX [IX_Reestr_ReeestrId] ON [dbo].[Indices]([Reestr_ReeestrId])
ALTER TABLE [dbo].[Crowers] ADD CONSTRAINT [FK_dbo.Crowers_dbo.Reestrs_Reestr_ReeestrId] FOREIGN KEY ([Reestr_ReeestrId]) REFERENCES [dbo].[Reestrs] ([ReeestrId])
ALTER TABLE [dbo].[Indices] ADD CONSTRAINT [FK_dbo.Indices_dbo.Reestrs_Reestr_ReeestrId] FOREIGN KEY ([Reestr_ReeestrId]) REFERENCES [dbo].[Reestrs] ([ReeestrId])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201808220859141_AutomaticMigration', N'KBSDb.Migrations.Configuration',  0x1F8B0800000000000400DD5ADB6EE336107D2FD07F10F4D41659CBC916451BD8BBD87592C2D8CD0571B2E85B404B63872845AA2495DA28FA657DE827F5173ABA5AA2244B729C4B8BBC4424E770EE9C21FDCF5F7F8FDEAF7C663D805454F0B17D3818DA16705778942FC776A8176F7EB4DFBFFBFAABD1A9E7AFAC2FD9BAB7D13AA4E46A6CDF6B1D1C3B8E72EFC1276AE053570A25167AE00ADF219E708E86C39F9CC3430710C2462CCB1A5D875C531FE20FFC9C08EE42A043C2CE85074CA5E338338B51AD0BE2830A880B63FBD3C7D9C9DCB63E304A70F319B0856D11CE85261A593BBE5530D352F0E52CC001C26ED601E0BA05610A52968F37CBBB723F3C8AB877368419941B2A2DFC9E80876F53753826F94E4AB57375A1C24E51B17A1D491D2B6D6C4FA4F81DA46D995B1D4F988C96A51A1D24EB0EACF8EB2037357A44F477604D42A64309630EA196841D5857E19C51F713AC6FC4AFC0C73C64ACC809F28273A5011CBA922200A9D7D7B028F137F56CCB29533B26794E5CA14CE49872FDC3F7B675818C903983DCE80599675A48F8193848A2C1BB225A83449B4D3D88D556E1C1D8718630A1CAF6FB280403C26B76DC8E3211E8FD53EEC1AA8D7303E7823CD0652C8881780DA034DAF81A583CADEE6990C4466AD6BB6CC59914FEB560B9F6D289BB9908A58B3BDE88BAD91B2297A0CBFC8C9C8DAB6D75C06CEB36074CD63DBF03E2BED1C6BB786081F4B95CF04A5221E375F98E6F8F7ABBE0AD641900664BCCF5B6754E569F812FF5FDD8C67FD153E80ABC6C2405BDE5148F0624D23284DE9B9E608ABFEFC37767174B83A9CDC3E265CFEF60F1B6BBB8574EF85CCE75032BBD07BFE890FE9E21F3C5DAAB497CC5F14ADE2B4DF6497B1F94122E8D79281D4F190365794EB9676D4DC3890936091CED80DE4903F447DC7C6C7F575151136426440132D349197238181C9AB216A4DA2E6C49D94D8CD56B7EC3571AC6DD25ADB5D63E054D6C8DE5A92614832A2F0384244BA84938587DA63947A5C160B21EE1CD401BC5D9C6A70CAB57442FD3670256E8B38916FA54E315F274DCA02E28C914218FB3C29ADA0AC44C976D919073BC5196D31523F3880246835E9CB2681DC42E6797AAD4CD01D11E12057E6B0DD11E038F9138CB70B9D76FBA312769C7B2B6CD69E8DB46E72408F0F028F471E988354B9AB8C99B59FF56C74F301C57D5743C39B7F94E49901AB3D1F1E3C119954A9F104DE6243A6C269E5F5996C57843FC64BB94C2B86AA42CACB2E5D1FF0949B1E9320937FA3A431E7C3CBB6369A01A0B15C2B865268CC8C65E692258E8F3EDBDD736A4AC072AE26463DD518A3D5089A3C278156DE4187A3135EE54546E78BD69C04EE66D8CE236F3D61376306F1361933A0B8D48519B8DADCD36AC4D875184DA8C76478ABB8C22483CD09D3E6D188A08E9D0AB718DC455FB7B462D5D07C768A06BD260DE411475D8D08F6CC3491A83224832D233E06B62FD256C593EFAEA52797EB0D727EC7CBA5B5A8E4EEBDA7C6C1CDB5545F40CF6086B4BCC477AC919E9CB635A9C74E4B1EF79B395353C963D1A371B5315758A7997D8477CB3E2E9ED19E58AAF36A01BFDA2294D982AAF2BE65E9957D455AC1D59EC978D5E834B546A6173499EAAF29AD8A87D476921D9FEB051294C9325B6853A78A05E5C94AE95067F102D18CC7E63134621CAA0D98273C2E902454DAEABECA3E1E191F150F27A1E2D1CA53CD6E9E5E245DF14E674492315B75EACF5BC0B2DBF24CCA9DEC32B42C66B4FA06A9494E12A971CF1A663FB8F98FED89AFE7267421C589712FDF1D81A5A7F16F9A95E0FF67D4578E1FBFDA77207F3567F173B16EEF4F90391EE3D91DFF864F5EDE3EEE9DB39E9794BFF8217E84F65BDE2B579A3EA7B5F8DFF9FC279D7DBF162B5D5F34EB7E65E70A77B757443909163108655006E8D7540A521C1F8E52E0D082BF35DAD8B7AA4A7489B39AE3983310A3CF2D7B2801D376CAD08737823E0DA94B1EF17837DD9BF744EF6796BF86F58BFE936E19518BFFE15A57A11FBC8B792A45E1EDBDE5CA0A9931495CC55AE26FB3FA4D4812773EDE02DAF2C75D038455DA8423FED134C590B5B9E0F6A936BEB53CDCB3DB3EC2658C96ECDCF31FB794BA9F6891871859FC961D02BBADC40442D3007B7146BF99A295F882CF80D8EB22546D9700E9A7818881FA4A60BE26A9C46FF53F14F00BE1016E292537F0EDE945F863A08358A0CFE9C95EE83A3D4B16DFFF8C1A8CCF3E832889FEDF72102B2495104B8E41F43CABC9CEFB39A9AB50122CA49696118D9524705E2729D235D08DE1128555F9E4A6FC00F1882A94B3E230FB00B6FB70A3EC392B8EBACDD6F0669374459EDA3134A9692F82AC5D8D0E327FAB0E7AFDEFD0B05EC02F42D2A0000 , N'6.2.0-61023')

